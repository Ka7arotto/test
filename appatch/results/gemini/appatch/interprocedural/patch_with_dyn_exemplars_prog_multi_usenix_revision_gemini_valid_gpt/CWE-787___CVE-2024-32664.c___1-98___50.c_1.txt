c
static inline void DecodeBase64Block(uint8_t* ascii, size_t ascii_size, const uint8_t b64[B64_BLOCK]) {
    if (ascii_size >= ASCII_BLOCK) { // Or handle partial decoding if needed
        ascii[0] = (uint8_t)(b64[0] << 2) | (b64[1] >> 4);
        // ... rest of DecodeBase64Block ...
    } else {
        // Handle insufficient buffer size (e.g., return an error code)
    }
}

// In DecodeBase64:
DecodeBase64Block(dptr, dest_size - *decoded_bytes, b64);
