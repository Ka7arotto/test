diff
--- a/drivers/of/fdt.c
+++ b/drivers/of/fdt.c
@@ -8,6 +8,9 @@
 	raw_spin_lock_irqsave(&devtree_lock, flags);
 	pp = __of_find_property(np, name, lenp);
 	raw_spin_unlock_irqrestore(&devtree_lock, flags);
+	if (!pp && lenp)
+		*lenp = 0;
+
 	return pp;
 }
