diff
--- a/drivers/of/fdt.c
+++ b/drivers/of/fdt.c
@@ -6,6 +6,8 @@
 	unsigned long flags;
 
 	raw_spin_lock_irqsave(&devtree_lock, flags);
+	if (!lenp)
+		return __of_find_property(np, name, NULL); // Or handle differently
 	pp = __of_find_property(np, name, lenp);
 	raw_spin_unlock_irqrestore(&devtree_lock, flags);
 	return pp;
