diff
--- a/original.c
+++ b/original.c
@@ -25,7 +25,12 @@
 22 		line_set_debounce_period(line, debounce_period_us);
 26 	if (!eflags || READ_ONCE(line->sw_debounced)) {
+		WARN_ON(!kfifo_initialized(&line->req->events) && eflags); // Debug check
+		return 0;
+	}

