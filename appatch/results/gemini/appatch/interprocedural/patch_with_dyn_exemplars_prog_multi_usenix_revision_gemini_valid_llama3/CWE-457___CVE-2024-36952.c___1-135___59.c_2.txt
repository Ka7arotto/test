diff
--- a/drivers/scsi/lpfc/lpfc_vport.c
+++ b/drivers/scsi/lpfc/lpfc_vport.c
@@ -3,6 +3,9 @@
 4 	struct Scsi_Host *shost = lpfc_shost_from_vport(vport);
 5 	struct lpfc_nodelist *ndlp;
 6 	unsigned long iflags;
+7
+        if (!shost)        // Early return
+            return NULL;
 8 	spin_lock_irqsave(shost->host_lock, iflags);
 9 	ndlp = __lpfc_findnode_did(vport, did);
 10 	spin_unlock_irqrestore(shost->host_lock, iflags);

