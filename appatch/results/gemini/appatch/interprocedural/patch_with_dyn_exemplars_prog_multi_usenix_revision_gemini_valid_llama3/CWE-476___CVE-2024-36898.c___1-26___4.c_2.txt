diff
--- a/original.c
+++ b/original.c
@@ -10,12 +10,13 @@
 8 	int irq, ret;
 10 	eflags = edflags & GPIO_V2_LINE_EDGE_FLAGS;
 11 	if (eflags && !kfifo_initialized(&line->req->events) && !(READ_ONCE(line->sw_debounced))) {
-12 		ret = kfifo_alloc(&line->req->events,
-13 				  line->req->event_buffer_size, GFP_KERNEL);
+            ret = kfifo_alloc(&line->req->events,
+                              line->req->event_buffer_size, GFP_KERNEL);
 14 		if (ret)
 15 			return ret;
+        }

 17 	if (gpio_v2_line_config_debounced(lc, line_idx)) {


