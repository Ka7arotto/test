diff
--- a/original.c
+++ b/original.c
@@ -25,7 +25,8 @@
 22 		line_set_debounce_period(line, debounce_period_us);
 26 	if (!eflags || READ_ONCE(line->sw_debounced))
+		return 0;
 998 	if (debounce_period_us && READ_ONCE(line->sw_debounced)) {

