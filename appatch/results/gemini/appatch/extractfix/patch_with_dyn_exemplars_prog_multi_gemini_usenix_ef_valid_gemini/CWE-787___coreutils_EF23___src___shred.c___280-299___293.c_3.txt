c
static void
fillpattern(int type, unsigned char *r, size_t size) {
  size_t i;

  for (i = 3; i < size / 2; i *= 2) {
    size_t j;
    for (j = 0; j < i; j++) {
      r[i + j] = r[j]; // Iterate and copy individual bytes
    }
  }
}
