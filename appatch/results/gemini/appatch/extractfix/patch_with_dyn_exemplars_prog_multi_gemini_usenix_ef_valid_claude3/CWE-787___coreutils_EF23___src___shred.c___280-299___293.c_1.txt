c
static void
fillpattern(int type, unsigned char *r, size_t size) {
  size_t i;

  for (i = 3; i <= size / 4; i *= 2) { // Adjust loop condition
    memcpy(r + i, r, i);
  }
}
