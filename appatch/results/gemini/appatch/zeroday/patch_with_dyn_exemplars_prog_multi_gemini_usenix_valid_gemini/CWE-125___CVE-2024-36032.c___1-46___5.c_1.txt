c
1 static int qca_read_fw_build_info(struct hci_dev *hdev) {
2     char cmd, build_label[QCA_FW_BUILD_VER_LEN];
3     int data_len = get_firmware_build_info(hdev, build_label);
4     if (data_len >= QCA_FW_BUILD_VER_LEN) {
5         // Handle error: data truncated or too large
6         return -1;
7     }
8     strncpy(build_label, build_label, QCA_FW_BUILD_VER_LEN - 1);
9     build_label[QCA_FW_BUILD_VER_LEN - 1] = '\0'; // Null-terminate 
10     // ... rest of the code ...
11 }
