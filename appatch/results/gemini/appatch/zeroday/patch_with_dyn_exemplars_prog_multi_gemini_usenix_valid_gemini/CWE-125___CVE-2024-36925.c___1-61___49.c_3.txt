diff
--- a/code.c
+++ b/code.c
@@ -29,16 +29,14 @@
 26 		pool = &mem->defpool;
 28 		pool->slots = kcalloc(nslabs, sizeof(*pool->slots), GFP_KERNEL);
 29 		if (!pool->slots) {
-30 			kfree(mem); // Free mem if kcalloc fails
-31 			return -ENOMEM; // Return an error
-32 		}
+30 			kfree(mem); 
+31 			return -ENOMEM; 
+32 		} 
 34 		pool->areas = kcalloc(nareas, sizeof(*pool->areas),
 36 		if (!pool->areas) {
-46 		mem->force_bounce = true;
-47 			kfree(pool->slots); // Free slots if areas allocation fails
-48 			kfree(mem); // Free mem
-49 			return -ENOMEM; // Return an error
+37 			kfree(pool->slots); 
+38 			kfree(mem);
+39 			return -ENOMEM; 
+40 		}
 49 		spin_lock_init(&mem->lock);

