diff
24 	ppdev_cb.private = pp;
+ 	char *name_copy = kstrdup(name, GFP_KERNEL);
+ 	if (!name_copy) {
+ 		rc = -ENOMEM;
+ 		goto err;
+ 	}
25 	pdev = parport_register_dev_model(port, name_copy, &ppdev_cb, index);
