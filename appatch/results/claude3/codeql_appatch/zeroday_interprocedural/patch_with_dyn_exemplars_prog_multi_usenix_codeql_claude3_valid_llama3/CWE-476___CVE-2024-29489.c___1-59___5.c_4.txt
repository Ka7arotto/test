diff
7   JERRY_ASSERT (func_obj_p != NULL && !ecma_is_lexical_environment (func_obj_p));
+   #ifndef NDEBUG
+   if (func_obj_p == NULL || ecma_is_lexical_environment (func_obj_p))
+   {
+       return ecma_raise_type_error (ECMA_ERR_INVALID_ARGUMENT);
+   }
+   #endif
9   ECMA_CHECK_STACK_USAGE ();
