diff
 void drm_client_register(struct drm_client_dev *client)
 {
+    if (!client) {
+        DRM_ERROR("Invalid client\n");
+        return;
+    }
     struct drm_device *dev = client->dev;
+    if (!dev) {
+        DRM_ERROR("Invalid client->dev\n");
+        return;
+    }
     int ret;
 
     mutex_lock(&dev->clientlist_mutex);
     // ... rest of the function
+
+out_unlock:
+    mutex_unlock(&dev->clientlist_mutex);
 }
