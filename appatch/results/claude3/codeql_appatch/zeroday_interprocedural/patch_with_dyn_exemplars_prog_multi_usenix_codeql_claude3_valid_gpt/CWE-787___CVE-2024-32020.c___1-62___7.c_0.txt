c
if (src->len + strlen(iter->relative_path) < src->alloc) {
    strbuf_addstr(src, iter->relative_path);
} else {
    die("Source path too long");
}
if (dest->len + strlen(iter->relative_path) < dest->alloc) {
    strbuf_addstr(dest, iter->relative_path);
} else {
    die("Destination path too long");
}
