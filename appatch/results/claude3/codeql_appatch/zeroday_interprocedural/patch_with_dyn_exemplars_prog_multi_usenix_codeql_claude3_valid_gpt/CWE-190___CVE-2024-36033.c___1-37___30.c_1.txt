c
if (firmware_name && strlen(firmware_name) < sizeof(config.fwname) - 5) {
    snprintf(config.fwname, sizeof(config.fwname), "qca/%s", firmware_name);
} else {
    bt_dev_err(hdev, "Invalid firmware name");
    return -EINVAL;
}
