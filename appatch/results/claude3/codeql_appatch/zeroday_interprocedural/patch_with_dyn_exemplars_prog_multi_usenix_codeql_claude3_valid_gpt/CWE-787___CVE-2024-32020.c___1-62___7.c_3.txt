c
#define MAX_PATH_LENGTH 4096

if (src->len + strlen(iter->relative_path) < MAX_PATH_LENGTH) {
    strbuf_addstr(src, iter->relative_path);
} else {
    die("Source path exceeds maximum length");
}
if (dest->len + strlen(iter->relative_path) < MAX_PATH_LENGTH) {
    strbuf_addstr(dest, iter->relative_path);
} else {
    die("Destination path exceeds maximum length");
}
