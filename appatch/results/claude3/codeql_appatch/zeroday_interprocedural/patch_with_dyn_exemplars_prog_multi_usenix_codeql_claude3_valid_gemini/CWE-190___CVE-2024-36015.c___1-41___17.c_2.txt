diff
- 	char *name;
+ 	char name[20];  // Adjust size as needed
- 9 	name = kasprintf(GFP_KERNEL, CHRDEV "%x", minor);
- 10 	if (name == NULL)
- 11 		return -ENOMEM;
+ 9 	snprintf(name, sizeof(name), CHRDEV "%x", minor);
...
- 39 	kfree(name);
