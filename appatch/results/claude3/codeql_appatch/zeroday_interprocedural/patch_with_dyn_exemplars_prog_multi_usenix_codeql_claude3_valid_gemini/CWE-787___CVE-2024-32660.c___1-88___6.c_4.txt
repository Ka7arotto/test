
24     if (zgfx->OutputCount > 0)
25     {
26         if (!*ppDstData || *pDstSize < zgfx->OutputCount)
27         {
28             BYTE* newBuffer = realloc(*ppDstData, zgfx->OutputCount);
29             if (!newBuffer)
30                 goto fail;
31             *ppDstData = newBuffer;
32             *pDstSize = zgfx->OutputCount;
33         }
34         CopyMemory(*ppDstData, zgfx->OutputBuffer, zgfx->OutputCount);
35     }
