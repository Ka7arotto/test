diff
 	mutex_lock(&thermal_dbg->lock);
 	tz->debugfs = NULL;
+	struct thermal_debugfs *temp = thermal_dbg;
 	mutex_unlock(&thermal_dbg->lock);
-	thermal_debugfs_remove_id(thermal_dbg);
+	thermal_debugfs_remove_id(temp);
