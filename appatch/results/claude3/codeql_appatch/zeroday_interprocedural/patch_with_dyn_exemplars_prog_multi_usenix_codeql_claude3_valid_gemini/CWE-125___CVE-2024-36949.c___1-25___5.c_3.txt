diff
+#define KFD_RETURN_IF_NULL(ptr) if (!(ptr)) return
+
 void kgd2kfd_suspend(struct kfd_dev *kfd, bool run_pm)
 {
+    KFD_RETURN_IF_NULL(kfd);
     struct kfd_node *node;
     int i;
     int count;
