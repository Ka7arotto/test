diff
1 int tipc_buf_append(struct sk_buff **headbuf, struct sk_buff **buf)
...
37 		kfree_skb_partial(frag, headstolen);
+ 		frag = NULL;
...
61 err:
- 	kfree_skb(*buf);
+ 	if (frag)
+ 		kfree_skb(*buf);
63 	kfree_skb(*headbuf);
