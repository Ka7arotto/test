c
if (firmware_name) {
    int ret = snprintf(config.fwname, sizeof(config.fwname), "qca/%s", firmware_name);
    if (ret < 0 || ret >= sizeof(config.fwname)) {
        bt_dev_err(hdev, "Firmware name too long");
        return -EINVAL;
    }
} else {
    bt_dev_err(hdev, "No firmware name provided");
    return -EINVAL;
}
