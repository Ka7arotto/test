diff
  clear_inode(inode);
- filemap_fdatawrite(&inode->i_data);
+ if (inode)
+     sync_inode_metadata(inode, 1);
