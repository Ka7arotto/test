
< static void safe_jzero(JSAMPARRAY buf, int row, int width) {
<   if (buf != NULL && buf[row] != NULL) {
<     jzero_far((void *) buf[row], (size_t) (width * sizeof(JSAMPLE)));
<   }
< }
< 
<   for (row = 0; row < num_rows; row++) {
<     /* Initialize output values to 0 so can process components separately */
<     jzero_far((void *) output_buf[row], (size_t) (width * sizeof(JSAMPLE)));
---
> static void safe_jzero(JSAMPARRAY buf, int row, int width) {
>   if (buf != NULL && buf[row] != NULL) {
>     jzero_far((void *) buf[row], (size_t) (width * sizeof(JSAMPLE)));
>   }
> }
> 
>   for (row = 0; row < num_rows; row++) {
>     /* Initialize output values to 0 so can process components separately */
>     safe_jzero(output_buf, row, width);
