diff
+1286a       if (atomic_dec_and_test(&channel->ringbuffer_refcount)) {
1287                 __free_pages(channel->ringbuffer_page,
+1288                channel->ringbuffer_page = NULL;
+1289        }
