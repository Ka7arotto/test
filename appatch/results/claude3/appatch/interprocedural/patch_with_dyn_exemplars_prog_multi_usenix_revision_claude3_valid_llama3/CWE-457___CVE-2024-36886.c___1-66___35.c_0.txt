diff
 static inline void free_the_page(struct page *page, unsigned int order)
 {
+    if (!page) return;
     if (pcp_allowed_order(order))        /* Via pcp? */
         free_unref_page(page, order);
+    page = NULL;  // Set to NULL after freeing
 }
