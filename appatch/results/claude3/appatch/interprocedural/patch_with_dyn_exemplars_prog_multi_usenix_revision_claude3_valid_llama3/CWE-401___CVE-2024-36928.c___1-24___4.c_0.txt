diff
14 	card->qdio.no_out_queues = max;
+ 	for (int i = 0; i < max; i++) {
+ 		card->qdio.out_qs[i] = qeth_alloc_output_queue();
+ 		if (!card->qdio.out_qs[i]) {
+ 			dev_err(&card->gdev->dev, "Failed to allocate output queue %d\n", i);
+ 			qeth_free_qdio_queues(card);
+ 			return;
+ 		}
+ 	}
