diff
+1286a       spin_lock(&channel->ringbuffer_lock);
1287                 __free_pages(channel->ringbuffer_page,
+1288                channel->ringbuffer_page = NULL;
+1289        spin_unlock(&channel->ringbuffer_lock);
