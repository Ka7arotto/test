c
typedef struct {
    uint8_t *data;
    size_t size;
} SafeBuffer;

static inline void DecodeBase64Block(SafeBuffer ascii, uint8_t b64[B64_BLOCK]) {
    if (ascii.data != NULL && ascii.size >= 1) {
        ascii.data[0] = (uint8_t) (b64[0] << 2) | (b64[1] >> 4);
    }
}
