
< #define SAFE_READ(ptr, member) ((ptr) ? READ_ONCE((ptr)->member) : 0)
< 
<     struct inet6_dev *idev = ip6_dst_idev(skb_dst(skb));
< 	if (unlikely(READ_ONCE(idev->cnf.disable_ipv6))) {
---
> #define SAFE_READ(ptr, member) ((ptr) ? READ_ONCE((ptr)->member) : 0)
> 
>     struct inet6_dev *idev = ip6_dst_idev(skb_dst(skb));
> 	if (unlikely(SAFE_READ(idev, cnf.disable_ipv6))) {
