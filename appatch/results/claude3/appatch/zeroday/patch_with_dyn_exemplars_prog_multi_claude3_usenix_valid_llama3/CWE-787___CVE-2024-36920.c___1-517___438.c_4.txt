
< static void set_kern_buf_len(struct mpi3mr_buf_map *bufs, u8 offset, u8 bufcnt, size_t new_len)
< {
<     if (offset < bufcnt) {
<         bufs[offset].kern_buf_len = new_len;
<     }
< }
< 
<     if ((mpirep_offset != 0xFF) &&
<         drv_buf_iter = &drv_bufs[mpirep_offset];
<         drv_buf_iter->kern_buf_len = (sizeof(*bsg_reply_buf) - 1 +
---
> static void set_kern_buf_len(struct mpi3mr_buf_map *bufs, u8 offset, u8 bufcnt, size_t new_len)
> {
>     if (offset < bufcnt) {
>         bufs[offset].kern_buf_len = new_len;
>     }
> }
> 
>     if (mpirep_offset != 0xFF) {
>         size_t new_len = (sizeof(*bsg_reply_buf) - 1 + mrioc->bsg_cmds.ioc_status_sz);
>         set_kern_buf_len(drv_bufs, mpirep_offset, bufcnt, new_len);
