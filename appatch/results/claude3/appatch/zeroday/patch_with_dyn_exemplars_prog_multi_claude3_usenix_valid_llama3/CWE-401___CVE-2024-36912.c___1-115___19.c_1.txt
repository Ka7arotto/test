c
void *temp_buffer = kbuffer;
ret = create_gpadl_header(type, temp_buffer, size, send_offset, &msginfo);
if (ret || !temp_buffer)
    return ret ? ret : -EFAULT;
