
< 	skb = nlmsg_new(NLMSG_ALIGN(sizeof(struct ifaddrmsg)) +
---
> 	int payload_size = NLMSG_ALIGN(sizeof(struct ifaddrmsg)) + nla_total_size(sizeof(u8));
> 	skb = nlmsg_new(payload_size, GFP_KERNEL);
