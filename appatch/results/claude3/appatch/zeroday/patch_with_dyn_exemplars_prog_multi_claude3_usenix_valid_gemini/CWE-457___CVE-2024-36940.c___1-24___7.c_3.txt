
1 static void handle_pinctrl_error(struct device *dev, int error)
2 {
3 	if (dev) {
4 		dev_err(dev, "could not claim hogs: %i\n", error);
5 	} else {
6 		pr_err("could not claim hogs: %i\n", error);
7 	}
8 }
9 
10 int pinctrl_enable(struct pinctrl_dev *pctldev)
11 {
12 	int error;
13 	struct device *dev = pctldev ? pctldev->dev : NULL;
14 
15 	error = pinctrl_claim_hogs(pctldev);
16 	if (error) {
17 		handle_pinctrl_error(dev, error);
18 		pinctrl_free_pindescs(pctldev, pctldev->desc->pins,
