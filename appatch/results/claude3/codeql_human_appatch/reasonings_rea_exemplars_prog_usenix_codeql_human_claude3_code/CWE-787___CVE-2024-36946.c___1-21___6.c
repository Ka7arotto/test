1 void rtm_phonet_notify(int event, struct net_device *dev, u8 dst)
3 	struct sk_buff *skb;
4 	int err = -ENOBUFS;
6 	skb = nlmsg_new(NLMSG_ALIGN(sizeof(struct ifaddrmsg)) +
7 			nla_total_size(1) + nla_total_size(4), GFP_KERNEL);
8 	if (skb == NULL)
9 		goto errout;
10 	err = fill_route(skb, dev, dst, 0, 0, event);
11 	if (err < 0) {
12 		WARN_ON(err == -EMSGSIZE);
13 		kfree_skb(skb);