
<     read_ptr = iwl_txq_get_cmd_index(txq, txq->read_ptr);
---
>     read_ptr = iwl_txq_get_cmd_index(txq, txq->read_ptr);
>     if (read_ptr < 0 || read_ptr >= txq->n_entries) {
>         IWL_ERR(trans, "Invalid read_ptr %d for queue %d\n", read_ptr, txq_id);
>         goto out;
>     }
