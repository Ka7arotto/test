diff
 struct typec_altmode *
 typec_partner_register_altmode(struct typec_partner *partner,
 			       const struct typec_altmode_desc *desc)
 {
+    if (!partner) {
+        pr_err("typec: Attempted to register altmode for NULL partner\n");
+        return NULL;
+    }
 	return typec_register_altmode(&partner->dev, desc);
 }
