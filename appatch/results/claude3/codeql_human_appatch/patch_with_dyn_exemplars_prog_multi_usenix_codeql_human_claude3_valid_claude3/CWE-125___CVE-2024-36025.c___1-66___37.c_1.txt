diff
if (app_req.num_ports == 0) {
    ql_dbg(ql_dbg_async, vha, 0x911d,
       "%s app did not indicate number of ports to return\n",
        __func__);
    SET_DID_STATUS(bsg_reply->result, DID_ERROR);
    rval = -1;
+   return rval;
}
