diff
+ jpc_stream_t *removed_stream;
- if (!(tile->pkthdrstream = jpc_streamlist_remove(dec->pkthdrstreams, 0))) {
+ if (!(removed_stream = jpc_streamlist_remove(dec->pkthdrstreams, 0))) {
      return -1;
  }
+ tile->pkthdrstream = removed_stream;
+ tile->owns_pkthdrstream = 1;  // Flag to indicate ownership
