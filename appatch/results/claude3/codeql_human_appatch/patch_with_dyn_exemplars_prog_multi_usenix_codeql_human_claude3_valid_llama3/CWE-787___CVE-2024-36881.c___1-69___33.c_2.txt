diff
- VM_WARN_ON(curr && (addr != curr->vm_start || end > curr->vm_end));
+ if (curr) {
+     if (addr < curr->vm_start)
+         addr = curr->vm_start;
+     if (end > curr->vm_end)
+         end = curr->vm_end;
+ }
