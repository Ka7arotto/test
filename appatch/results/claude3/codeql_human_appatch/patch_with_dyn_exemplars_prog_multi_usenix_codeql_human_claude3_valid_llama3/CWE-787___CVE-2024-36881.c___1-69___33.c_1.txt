diff
- VM_WARN_ON(curr && (addr != curr->vm_start || end > curr->vm_end));
+ if (curr && (addr != curr->vm_start || end > curr->vm_end)) {
+     pr_err("VMA merge error: misaligned boundaries\n");
+     return ERR_PTR(-EINVAL);
+ }
