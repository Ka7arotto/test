diff
 struct typec_altmode *
 typec_partner_register_altmode(struct typec_partner *partner,
 			       const struct typec_altmode_desc *desc)
 {
+    if (!partner || !desc)
+        return NULL;
 	return typec_register_altmode(&partner->dev, desc);
 }
