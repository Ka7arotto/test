diff
-void hub_get(struct usb_hub *hub)
+int hub_get(struct usb_hub *hub)
 {
+    if (!hub)
+        return -EINVAL;
     kref_get(&hub->kref);
+    return 0;
 }
