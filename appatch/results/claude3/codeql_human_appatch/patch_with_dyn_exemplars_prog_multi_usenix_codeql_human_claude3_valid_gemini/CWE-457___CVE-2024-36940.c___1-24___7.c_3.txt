c
static void handle_pinctrl_error(struct pinctrl_dev *pctldev, int error)
{
    dev_err(pctldev->dev, "could not claim hogs: %i\n", error);
    pinctrl_free_pindescs(pctldev, pctldev->desc->pins,
                          pctldev->desc->npins);
    mutex_destroy(&pctldev->mutex);
    kfree(pctldev);
}

// In the main function:
if (error) {
    handle_pinctrl_error(pctldev, error);
    return error;
}
