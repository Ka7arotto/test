
+ static inline int check_null(void *ptr) {
+     return ptr ? 0 : -EINVAL;
+ }

17 int amdgpu_amdkfd_drm_client_create(struct amdgpu_device *adev)
18 {
19 	int ret;
20 
+	ret = check_null(adev);
+	if (ret)
+		return ret;
21 
21 	if (!adev->kfd.init_complete)
22 		return 0;
