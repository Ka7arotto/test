diff
1 struct typec_altmode *
2 typec_partner_register_altmode(struct typec_partner *partner,
3                                const struct typec_altmode_desc *desc)
4 {
+    if (!partner) {
+        return ERR_PTR(-EINVAL); // Assuming ERR_PTR is available
+    }
5     return typec_register_altmode(&partner->dev, desc);
}
