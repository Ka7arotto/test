diff
192       if (row == 0 || row > nused)
193           return -1;  // or handle error appropriately
