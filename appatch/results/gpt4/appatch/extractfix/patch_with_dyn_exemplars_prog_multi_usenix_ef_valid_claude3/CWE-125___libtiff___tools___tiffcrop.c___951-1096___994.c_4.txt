diff
20 +       uint16_t safe_spp = MIN(spp, MAX_SAMPLES);
42 -       for (s = 0; s < spp; s++)
42 +       for (s = 0; s < safe_spp; s++)
