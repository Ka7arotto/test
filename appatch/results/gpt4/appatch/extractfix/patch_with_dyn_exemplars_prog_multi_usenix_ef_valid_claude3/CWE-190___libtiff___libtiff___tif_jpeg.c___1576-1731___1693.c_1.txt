c
111     if (isTiled(tif)) {
112         if (sp->v_sampling == 0 || sp->h_sampling == 0) {
113             TIFFErrorExt(tif->tif_clientdata, module,
114                          "Sampling factors must not be zero");
115             return (0);
116         }
117         if ((td->td_tilelength % (sp->v_sampling * DCTSIZE)) != 0) {
118             TIFFErrorExt(tif->tif_clientdata, module,
119                          "JPEG tile height must be multiple of %d",
120                          sp->v_sampling * DCTSIZE);
121             return (0);
122         }
123         if ((td->td_tilewidth % (sp->h_sampling * DCTSIZE)) != 0) {
124             TIFFErrorExt(tif->tif_clientdata, module,
125                          "JPEG tile width must be multiple of %d",
126                          sp->h_sampling * DCTSIZE);
127             return (0);
128         }
