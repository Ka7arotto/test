diff
17     int valid_rows = 1;
18     for (row = 0; row < num_rows; row++) {
19         if (output_buf[row] == NULL) {
20             valid_rows = 0;
21             break;
22         }
23     }
24     if (valid_rows) {
25         for (row = 0; row < num_rows; row++) {
26             jzero_far((void *) output_buf[row], (size_t) (width * sizeof(JSAMPLE)));
27         }
28     }
