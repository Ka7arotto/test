c
51  if (ret) {
52      vfree(data); // Free the allocated memory before returning
53      return ret;
54  }
