diff
7     fw->device = device;
8     fw->len = len;
+9    if (!fw->func || !src)
+10       return -EINVAL;
10    switch (fw->func->type) {
