c
// Assume that there is a mechanism to delay freeing of thermal_zone_device
1 void thermal_debug_tz_remove(struct thermal_zone_device *tz)
2 {
3     if (!tz)
4         return;
5 
6     struct thermal_debugfs *thermal_dbg = tz->debugfs;
7     // ... rest of the code ...
8 
9     schedule_thermal_zone_device_destruction(tz);
10 }
