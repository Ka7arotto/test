diff
4   struct inet6_dev *idev = ip6_dst_idev(skb_dst(skb));
---
4   struct inet6_dev *idev = ip6_dst_idev(skb_dst(skb));
5   if (!idev)
6       return -ENODEV; // Return an error code indicating that the device is not available
