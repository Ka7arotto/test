diff
< 	new_coalesce.rules = kcalloc(n_rules, sizeof(new_coalesce.rules[0]), GFP_KERNEL);
< 	if (!new_coalesce.rules)
---
> 	new_coalesce.rules = kcalloc(n_rules, sizeof(new_coalesce.rules[0]), GFP_KERNEL);
> 	if (!new_coalesce.rules) {
> 		return -ENOMEM; // or another appropriate error code
> 	}
