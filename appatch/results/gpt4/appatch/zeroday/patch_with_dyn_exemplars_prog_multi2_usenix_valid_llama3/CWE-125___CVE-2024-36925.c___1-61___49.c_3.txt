diff
29  	if (!pool->slots) {
+30  	    kfree(mem);
+31  	    return -ENOMEM;
32  	}
...
36  	if (!pool->areas) {
+37  	    kfree(pool->slots);
+38  	    kfree(mem);
+39  	    return -ENOMEM;
40  	}
