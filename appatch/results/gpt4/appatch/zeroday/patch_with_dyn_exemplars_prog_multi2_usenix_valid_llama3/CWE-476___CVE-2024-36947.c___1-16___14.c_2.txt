diff
<     if (IS_ERR(dir)) {
<     }
<     simple_recursive_removal(dir, NULL);
---
>     if (IS_ERR(dir)) {
>         printk(KERN_ERR "Error looking up directory: %ld\n", PTR_ERR(dir));
>         return PTR_ERR(dir);
>     }
>     simple_recursive_removal(dir, NULL);
