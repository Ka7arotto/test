c
struct qxl_release *release = get_release_from_fence(fence);
if (release == NULL || is_invalid_release(release)) {
    // Handle error or return
}
// Continue with the use of release
