diff
27     propname = kasprintf(GFP_KERNEL, "pinctrl-%d", state);
28     if (!propname) {
+       // Free any allocated resources here if necessary
+       return -ENOMEM;
+   }
30     prop = of_find_property(np, propname, &size);
