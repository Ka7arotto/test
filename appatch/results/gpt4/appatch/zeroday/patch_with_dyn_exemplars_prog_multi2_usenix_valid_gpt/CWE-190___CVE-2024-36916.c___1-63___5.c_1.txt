diff
+ // Validate delay before assignment to prevent overflow
+ if (proposed_delay > MAX_U64_VALUE) {
+     // Handle overflow, possibly by capping the delay at MAX_U64_VALUE or reporting an error
+     delay = MAX_U64_VALUE;
+ } else {
+     delay = proposed_delay;
+ }
