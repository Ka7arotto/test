diff
+ // Ensure that the time delta calculation does not underflow
+ if (later_timestamp < earlier_timestamp) {
+     // Handle underflow, possibly by setting tdelta to a safe default or reporting an error
+     tdelta = DEFAULT_SAFE_DELTA;
+ } else {
+     tdelta = later_timestamp - earlier_timestamp;
+ }
