diff
+ // Use built-in functions for safe 64-bit unsigned arithmetic
+ if (__builtin_uaddll_overflow(delay, additional_value, &new_delay)) {
+     // Handle overflow, possibly by setting new_delay to a safe value or reporting an error
+     new_delay = MAX_U64_VALUE;
+ }
