c
static void ffs_user_copy_worker(struct work_struct *work)
{
    struct ffs_io_data *io_data = container_of(work, struct ffs_io_data, work);
    if (!io_data) {
        // Handle error or return early
        return;
    }
    if (!io_data->kiocb) {
        // Handle error or return early
        return;
    }
    spin_lock(&io_data->kiocb_lock);
    bool kiocb_has_eventfd = io_data->kiocb->ki_flags & IOCB_EVENTFD;
    spin_unlock(&io_data->kiocb_lock);
    // Rest of the function remains the same
}
