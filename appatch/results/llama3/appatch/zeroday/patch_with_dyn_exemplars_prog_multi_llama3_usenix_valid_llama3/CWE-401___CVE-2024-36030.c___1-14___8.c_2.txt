c
void *npc_mcam_alloc(struct npc_mcam *mcam, size_t size)
{
    mcam->counters_bmap = kmalloc(size, GFP_KERNEL);
    if (mcam->counters_bmap != NULL) {
        mcam->counters_bmap_allocated = true;
    }
    return mcam->counters_bmap;
}

void npc_mcam_free(struct npc_mcam *mcam)
{
    if (mcam->counters_bmap_allocated) {
        kfree(mcam->counters_bmap);
        mcam->counters_bmap_allocated = false;
    }
}

void rvu_npc_freemem(struct rvu *rvu)
{
    // ...
    npc_mcam_free(mcam);
    // ...
}
