c
spin_lock(&nvdev->lock);
if (nvdev->recv_buf != NULL) {
    vfree(nvdev->recv_buf);
    nvdev->recv_buf = NULL; // Set to NULL to prevent double-free
}
spin_unlock(&nvdev->lock);
