c
if (*pLength > MAX_SAFE_LENGTH) {
    // Handle error or return an error code
}
char* utf8 = ConvertWCharNToUtf8Alloc(wchar, *pLength, &utf8_len);
